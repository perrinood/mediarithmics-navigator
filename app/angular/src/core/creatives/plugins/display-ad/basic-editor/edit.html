<div class="mcs-default-container" ng-controller='core/creatives/plugins/display-ad/basic-editor/EditController'>
  <div class="mcs-default-sidebar">
    <div class="organisation-name-block">
      {{currentOrganisation}}
    </div>
    <div class="mcs-creative-type">
      <h4>{{getRendererTitle(displayAd)}}</h4>
    </div>
  </div>

  <form name="form" role="form" class="mcs-default-edit-content mcs-full-page-form">
    <div class="mcs-default-heading">
      <h1>Display Ad</h1>
    </div>

    <div class="row">
      <!-- Name -->
      <div class="col-md-8">
        <div mcs-form-group="full" label-for="name" label-text="Ad name">
          <input ng-disabled="disabledEdition" ng-model="displayAd.name" type="text" class="form-control input-lg" id="name">
        </div>
      </div>

      <!-- Format -->
      <div class="col-md-4">
        <div mcs-form-group="full" label-for="format" label-text="Format">
          <select ng-disabled="disabledEdition" ng-model="displayAd.format" required ng-options="iabAdSize as iabAdSize for iabAdSize in iabAdSizes" id="format"></select>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-8">
        <div mcs-form-group="full" label-for="destination_dom" label-text="Destination domain">
          <input ng-disabled="disabledEdition" ng-model="displayAd.destination_domain" required type="text" class="form-control input" id="destination_dom" pattern="^([a-zA-Z0-9][-a-zA-Z0-9]*[a-zA-Z0-9]\.)+([a-zA-Z0-9]{2,})$">
            <span id="helpBlock" class="help-block">This is the final redirect location domain (without http or params) <br/>
                eg: destination.mybrand.com</span>
        </div>
      </div>
    </div>


    <div ng-include="'angular/src/core/creatives/plugins/display-ad/common/AuditStatus.inc.html'"></div>
    <div class="row">
      <div class="col-md-12">
        <h3>Preview</h3>
        <iframe class="creative-preview" frameborder="0" scrolling="no" width="{{previewWidth}}" height="{{previewHeight}}" ng-src="{{previewUrl}}"></iframe>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <h3>Properties</h3>
        <div mcs-form-group="" label-for="destinationUrlProperty-{{destinationUrlProperty.id}}" label-text="Destination URL" ng-show="destinationUrlProperty">
          <input class="form-control" ng-disabled="disabledEdition" required ng-model="destinationUrlProperty.value.url" type="url" id="destinationUrlProperty-{{destinationUrlProperty.id}}">
          <span id="helpBlock" class="help-block">This is the URL where the user will be redirected to.
          If you use a click tracker, please check the box and fill the final destination domain.
          Otherwise, you may experience blocking on some ad exchanges.<br/>
          </span>
        </div>
      </div>
    </div>

    <!------------------------ Advanced options ------------------------>
    <div class="panel-group" id="accordion">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne">
              Advanced Options
            </a>
          </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse">
          <div class="panel-body">
            <div>
              <mcs-pixel-property ng-disabled="disabledEdition" label-text="Pixel Tag" property="pixelTagProperty"></mcs-pixel-property>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- save or cancel -->
    <div class="mcs-actions-group">
      <button ng-disabled="!form.$valid" class="mics-btn mics-btn-finish" ng-click="save(disabledEdition)">Done</button>
      <button ng-disabled="!form.$valid" ng-if="!disabledEdition" class="mics-btn mics-btn-finish" ng-click="saveAndRefresh()">Save &amp; Refresh</button>
      <button class="mics-btn mics-btn-cancel" ng-click="cancel()">Cancel</button>
    </div>
  </form>
</div>
