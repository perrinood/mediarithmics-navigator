<div class="campaign-list" ng-controller="core/campaigns/ListEmailCampaignsController">
  <div class="campaign-list-content">
    <div class="campaign-list-heading">
      <h1>
        Email Campaigns
        <button type="button" class="mics-btn mics-btn-action btn-xs" ng-click="refresh()">
          <span class="glyphicon glyphicon-refresh"></span>Refresh
        </button>
      </h1>
    </div>

    <div class="campaign-list-controller mics-table-toolbar">
      <div class="col-md-6">
        <button class="mics-btn mics-btn-add" ng-click="newCampaign()">New Campaign</button>
      </div>
      <div class="col-md-6">
        <div class="campaign-list-date-controller">
          <form class="form-inline" role="form">
            <input type="daterange" ng-model="reportDateRange" class="form-control range" format="L" ranges="reportDefaultDateRanges" opens="'left'">
          </form>
        </div>
      </div>
    </div>

    <div class="campaign-list-area" ng-show="emailCampaigns.length">
      <table class="campaign-list-table table-hover js-auto-hide-actions">
        <thead>
        <tr>
          <th class="status">Status</th>
          <th>Name</th>
          <th ng-if="administrator">Organisation</th>
          <th class="actions">
            Actions
          </th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="campaign in emailCampaigns | offset: (currentPageEmailCampaign - 1)*itemsPerPage | limitTo: itemsPerPage">
          <td><div mics-campaign-status="campaign"></div></td>
          <td class="clickable-box"><a class="clickable-box" ng-href="#{{getCampaignDashboardUrl(campaign)}}">{{campaign.name}}</a></td>
          <td class="clickable-box" ng-if="administrator">
            <a class="clickable-box" ng-href="#{{getCampaignDashboardUrl(campaign)}}">{{organisationName(campaign.organisation_id)}}</a>
          </td>
          <td class="actions">
            <a class="mics-btn mics-btn-action" ng-click="editCampaign(campaign)">Edit</a>
            <a class="mics-btn mics-btn-delete" ng-click="deleteCampaign(campaign, $event)">Delete</a>
          </td>
        </tr>
        </tbody>
      </table>
      <uib-pagination total-items="emailCampaigns.length" ng-model="currentPageEmailCampaign" items-per-page="itemsPerPage"></uib-pagination>
    </div>

  </div>
</div>
