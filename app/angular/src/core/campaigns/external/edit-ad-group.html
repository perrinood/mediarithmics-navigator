<div class="mcs-default-container" ng-controller="core/campaigns/external/EditAdGroupController">

  <div class="mcs-default-sidebar ">
    <div class="organisation-name-block">
      {{currentOrganisation}}
    </div>
    <div class="mcs-campaign-type ">
      <h4>External Campaign</h4>
    </div>
  </div>

  <form role="form" class="mcs-default-edit-content mcs-full-page-form">

    <!-- Ad Group edition form -->
    <div class="mcs-default-heading">
      <h3>Editing Ad Group</h3>
      <h4>for {{campaignName}} Campaign</h4>
    </div>

    <!------------------------ Basic Info ------------------------>
    <div mcs-form-group="" label-for="name" label-text="Ad Group Name">
      <input ng-model="adGroup.name" type="text" class="form-control input-lg" id="name">
    </div>

    <div mcs-form-group="" label-for="technical-name" label-text="Technical Name">
      <input ng-model="adGroup.technical_name" type="text" class="form-control input-lg" id="technical-name">
    </div>

    <!------------------------ Select Ads ------------------------>
    <div class="mcs-form-group">
      <div class="mics-block-heading">
        <div ng-include="'angular/src/core/adgroups/choose-external-ads.html'"></div>
        <span>Select ads</span>
      </div>
      <table class="fragment-list-creatives list-ads" ng-show="creatives.length">
        <thead>
        <tr>
          <th>Format</th>
          <th>Ad Name</th>
          <th>Technical Name</th>
          <th class="actions">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="creative in creatives">
          <td>{{creative.format}}</td>
          <td>{{creative.name}}</td>
          <td>{{creative.technical_name}}</td>
          <td class="actions"><button class="mics-btn mics-btn-delete" ng-click="deleteAd(creative)">Remove</button></td>
        </tr>
        </tbody>
      </table>
    </div>

    <!------------------------ Select Audience Segments ------------------------>
    <div class="mcs-form-group">
      <div class="mics-block-heading">
        <div class="btn-group">
          <button class="mics-btn mics-btn-add" ng-click="selectExistingAudienceSegments()">Select Existing Audience Segments</button>
        </div>
        <span>Select audience segments</span>
      </div>
      <table class="fragment-list-audience-segment" ng-show="getAudienceSegments(adGroup.id).length">
        <thead>
        <tr>
          <th>Segment name</th>
          <th>Target or Exclude</th>
          <th class="actions">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="segment in getAudienceSegments(adGroup.id)">
          <td>{{segment.name}}</td>
          <td>
            <div mics-exclude-toggle="segment.exclude"></div>
          </td>
          <td class="actions">
            <button class="mics-btn mics-btn-delete" ng-click="deleteAudienceSegment(segment)">Remove</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Save or cancel -->
    <div class="mcs-actions-group">
      <button class="mics-btn mics-btn-finish" ng-disabled="!canSave()" ng-click="done()">Done</button>
      <button class="mics-btn mics-btn-cancel" ng-click="cancel()">Cancel</button>
    </div>

  </form>
</div>
