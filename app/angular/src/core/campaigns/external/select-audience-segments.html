<div>
  <div class="modal-header">
    <h3>Select Audience Segments</h3>
  </div>

  <div class="modal-body">
    <form role="form" class="form-inline ng-pristine ng-valid">
      <input class="pull-right form-control" style="margin-bottom: 10px" type="text" ng-model="segmentName" placeholder="Search">
    </form>

    <table class="fragment-list-audience-segment">
      <thead>
      <tr>
        <th>&nbsp;</th>
        <th>Segment Name</th>
        <th>Technical Name</th>
        <th ng-if="segmentSelectionType === 'DISPLAY'">Target or Exclude</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="segment in filteredSegments()  | offset: (currentSegmentsPage - 1) * segmentsPerPage | limitTo: segmentsPerPage | filter: segmentName">
        <td><input type="checkbox" checklist-model="selectedSegments" checklist-value="segment"></td>
        <td>{{segment.name}}</td>
        <td>{{segment.technical_name}}</td>
        <td ng-if="segmentSelectionType === 'DISPLAY'">
          <div mics-exclude-toggle="segment.exclude"></div>
        </td>
      </tr>
      </tbody>
    </table>

    <uib-pagination total-items="filteredSegments().length" ng-model="currentSegmentsPage" items-per-page="segmentsPerPage"></uib-pagination>
  </div>

  <div class="modal-footer">
    <a class="mics-btn mics-btn-finish" ng-show="selectedSegments.length" ng-click="done()">Done</a>
    <a ng-click="cancel()" class="mics-btn mics-btn-cancel">Cancel</a>
  </div>
</div>
